<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FindMyFamily | Missing Person Alert</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Load Google Fonts: Poppins (Headline) and Inter (Body) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

    <style>
        /* Custom Tailwind Configuration (for colors and fonts) */
        :root {
            --primary: #2563eb;
            --secondary: #dc2626;
            --success: #10b981;
            --accent: #f59e0b;
        }

        /* Configure the font and defaults */
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        /* Custom Swiper Styles for better integration */
        .swiper-button-next, .swiper-button-prev {
            color: white !important;
            background: rgba(0, 0, 0, 0.5);
            width: 40px !important;
            height: 40px !important;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .swiper-button-next:hover, .swiper-button-prev:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .swiper-button-next::after, .swiper-button-prev::after {
            font-size: 1.2rem !important;
        }

        /* Media Frame Fix: Fixed height for visual consistency on mobile, adjusted on larger screens */
        .media-frame {
            width: 100%;
            height: 20rem; /* h-80 in Tailwind */
        }
        @media (min-width: 768px) {
            .media-frame {
                height: 24rem; /* h-96 in Tailwind */
            }
        }

        /* Custom animation for the floating buttons */
        @keyframes pulse-float {
            0% { transform: scale(1); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); }
            50% { transform: scale(1.05); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); }
            100% { transform: scale(1); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); }
        }

        .floating-btn {
            animation: pulse-float 2s infinite;
        }
    </style>
</head>
<body class="antialiased">
    <!-- Success Modal (Hidden by Default) - REPLACES ALERT() -->
    <div id="successModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-[1001] hidden flex items-center justify-center p-4 transition-opacity duration-300">
        <div class="bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-sm w-full transform transition-all duration-300 scale-95 opacity-0" id="modalContent">
            <div class="flex flex-col items-center">
                <i class="fas fa-check-circle text-6xl text-green-500 mb-4"></i>
                <h3 class="text-2xl font-bold text-gray-800 mb-2 font-['Poppins']">Report Sent!</h3>
                <p class="text-gray-600 text-center mb-6">Thank you for submitting your sighting. You are now being redirected to **WhatsApp** to send details directly to the family.</p>
                <button onclick="closeModal()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-full transition duration-150">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Emergency Alert -->
    <div class="bg-red-600 text-white p-3 text-center sticky top-0 z-[1000] shadow-xl text-sm md:text-base" id="emergencyAlert">
        <div class="container mx-auto px-4">
            <i class="fas fa-exclamation-triangle mr-2 animate-pulse"></i> **URGENT:** PERSON MISSING - IF SEEN, PLEASE CONTACT IMMEDIATELY
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white/95 backdrop-blur-md shadow-lg sticky top-12 md:top-10 z-[500] border-b border-gray-100">
        <div class="container mx-auto px-4">
            <nav class="flex flex-col md:flex-row justify-between items-center py-4">
                <div class="flex items-center gap-2 font-['Poppins'] text-2xl font-bold text-blue-600 mb-3 md:mb-0">
                    <i class="fas fa-heart text-red-600"></i>
                    <span>FindMyfamily</span>
                </div>
                <div class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-700">
                    <a href="#info" class="font-medium hover:text-blue-600 transition duration-150 relative group nav-link">Information</a>
                    <a href="#contact" class="font-medium hover:text-blue-600 transition duration-150 relative group nav-link">Contact</a>
                    <a href="#report" class="font-medium hover:text-blue-600 transition duration-150 relative group nav-link">Report Sighting</a>
                    <a href="#share" class="font-medium hover:text-blue-600 transition duration-150 relative group nav-link">Share</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative py-16 md:py-24 bg-cover bg-center bg-gray-900" style="background-image: url('https://images.unsplash.com/photo-1557683316-973673baf926?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');">
        <div class="absolute inset-0 bg-black opacity-60"></div>
        <div class="container mx-auto px-4 relative z-10 text-center max-w-3xl">
            <span class="inline-block bg-red-600 text-white text-sm font-semibold px-4 py-1.5 rounded-full mb-4 shadow-lg">
                <i class="fas fa-exclamation-circle mr-2"></i> MISSING PERSON
            </span>
            <h1 class="font-['Poppins'] text-4xl md:text-5xl font-extrabold text-white mb-4 leading-tight">Help Us Find Our Brother</h1>
            <p class="text-xl text-gray-200">If you have any information about his whereabouts, please contact us immediately. Every piece of information helps.</p>
        </div>
    </section>

    <!-- Person Information -->
    <section class="py-12 md:py-20 bg-white" id="info">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row gap-8 lg:gap-12 items-start">
                
                <!-- Media Column -->
                <div class="w-full md:w-1/2 flex flex-col gap-6">
                    
                    can you update the link to the image and video to pull from the GitHub Images folder. 

<!-- Image Slider -->
                    <div class="bg-gray-800 rounded-xl shadow-xl overflow-hidden">
                        <div class="media-frame">
                            <div class="swiper imageSwiper w-full h-full">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <!-- Placeholder Image 1 -->
                                        <img class="w-full h-full object-cover" src="https://placehold.co/800x800/2563eb/ffffff?text=Missing+Person+1" alt="Missing Person Photo 1" loading="lazy">
                                    </div>
                                    <div class="swiper-slide">
                                        <!-- Placeholder Image 2 -->
                                        <img class="w-full h-full object-cover" src="https://placehold.co/800x800/dc2626/ffffff?text=Missing+Person+2" alt="Missing Person Photo 2" loading="lazy">
                                    </div>
                                    <div class="swiper-slide">
                                        <!-- Placeholder Image 3 -->
                                        <img class="w-full h-full object-cover" src="https://placehold.co/800x800/f59e0b/ffffff?text=Missing+Person+3" alt="Missing Person Photo 3" loading="lazy">
                                    </div>
                                </div>
                                <div class="swiper-button-next"></div>
                                <div class="swiper-button-prev"></div>
                                <div class="swiper-pagination"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Video Slider -->
                    <div class="bg-gray-800 rounded-xl shadow-xl overflow-hidden">
                        <div class="media-frame relative">
                            <div class="swiper videoSwiper w-full h-full">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <div class="flex flex-col items-center justify-center w-full h-full text-white bg-gray-700 p-4">
                                            <i class="fas fa-video text-4xl text-gray-400 mb-4"></i>
                                            <p class="font-semibold text-lg">Video 1: Last known footage</p>
                                            <small class="text-gray-400">Placeholder for actual video asset</small>
                                        </div>
                                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white p-3 text-sm z-10">
                                            <i class="fas fa-play-circle mr-2"></i> Last known footage - October 01, 2025
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="flex flex-col items-center justify-center w-full h-full text-white bg-gray-700 p-4">
                                            <i class="fas fa-video text-4xl text-gray-400 mb-4"></i>
                                            <p class="font-semibold text-lg">Video 2: Family gathering</p>
                                            <small class="text-gray-400">Placeholder for actual video asset</small>
                                        </div>
                                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white p-3 text-sm z-10">
                                            <i class="fas fa-play-circle mr-2"></i> Family gathering - October 2025
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-button-next"></div>
                                <div class="swiper-button-prev"></div>
                                <div class="swiper-pagination"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Details Column -->
                <div class="w-full md:w-1/2 pt-4 md:pt-0">
                    <h2 class="font-['Poppins'] text-3xl md:text-4xl font-bold text-gray-800 mb-4">Julius Anthony</h2>
                    <p class="bg-blue-50 text-gray-700 p-4 rounded-xl mb-6 border-l-4 border-blue-600 shadow-inner">
                        **Last Seen:** Wearing a blue jacket, black jeans, and white sneakers. He has a distinctive tattoo of an **eagle on his right forearm**. If you see him, please approach with care and contact us immediately.
                    </p>
                    
                    <h3 class="font-semibold text-xl text-gray-800 mb-3">Key Characteristics</h3>
                    <div class="grid grid-cols-2 gap-4 text-gray-700">
                        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg shadow-sm">
                            <i class="fas fa-birthday-cake text-blue-600 text-xl mt-1"></i>
                            <div>
                                <strong class="text-sm text-gray-500 block">Age</strong>
                                <p class="font-semibold">33 years</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg shadow-sm">
                            <i class="fas fa-ruler-vertical text-blue-600 text-xl mt-1"></i>
                            <div>
                                <strong class="text-sm text-gray-500 block">Height</strong>
                                <p class="font-semibold">5'11" (180 cm)</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg shadow-sm">
                            <i class="fas fa-weight text-blue-600 text-xl mt-1"></i>
                            <div>
                                <strong class="text-sm text-gray-500 block">Weight</strong>
                                <p class="font-semibold">165 lbs (55 kg)</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg shadow-sm">
                            <i class="fas fa-eye text-blue-600 text-xl mt-1"></i>
                            <div>
                                <strong class="text-sm text-gray-500 block">Eyes</strong>
                                <p class="font-semibold">Brown</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg shadow-sm">
                            <i class="fas fa-calendar-day text-blue-600 text-xl mt-1"></i>
                            <div>
                                <strong class="text-sm text-gray-500 block">Last Seen</strong>
                                <p class="font-semibold">October 1, 2025</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg shadow-sm">
                            <i class="fas fa-map-marker-alt text-blue-600 text-xl mt-1"></i>
                            <div>
                                <strong class="text-sm text-gray-500 block">Location</strong>
                                <p class="font-semibold"> Sanath Nagar, Hyderabad</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Cards -->
    <section class="py-12 md:py-20 bg-gray-50" id="contact">
        <div class="container mx-auto px-4">
            <h2 class="font-['Poppins'] text-3xl font-bold text-center text-gray-800 mb-10">Urgent Contacts</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                
                <!-- Card 1: Sister -->
                <div class="bg-white rounded-xl p-6 shadow-xl hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 border border-gray-100">
                    <div class="w-20 h-20 rounded-full bg-blue-600 text-white flex items-center justify-center text-3xl mx-auto mb-4 shadow-lg">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 class="font-['Poppins'] text-xl font-semibold text-center mb-1">Henry Paul</h3>
                    <p class="text-gray-500 text-center mb-6">Brother</p>
                    <div class="flex justify-center gap-3">
                        <a href="https://wa.me/+918317581308" target="_blank" class="flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-full font-semibold text-sm transition duration-150 shadow-md hover:shadow-lg">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </a>
                        <a href="tel:+918317581308" class="flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-semibold text-sm transition duration-150 shadow-md hover:shadow-lg">
                            <i class="fas fa-phone"></i> Call
                        </a>
                    </div>
                </div>
                
                <!-- Card 2: Brother -->
                <div class="bg-white rounded-xl p-6 shadow-xl hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 border border-gray-100">
                    <div class="w-20 h-20 rounded-full bg-blue-600 text-white flex items-center justify-center text-3xl mx-auto mb-4 shadow-lg">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 class="font-['Poppins'] text-xl font-semibold text-center mb-1">Lilly Virjinia</h3>
                    <p class="text-gray-500 text-center mb-6">Mother</p>
                    <div class="flex justify-center gap-3">
                        <a href="https://wa.me/+919700034716" target="_blank" class="flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-full font-semibold text-sm transition duration-150 shadow-md hover:shadow-lg">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </a>
                        <a href="tel:+919700034716" class="flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-semibold text-sm transition duration-150 shadow-md hover:shadow-lg">
                            <i class="fas fa-phone"></i> Call
                        </a>
                    </div>
                </div>
                
                <!-- Card 3: Police -->
                <div class="bg-white rounded-xl p-6 shadow-xl hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 border border-gray-100">
                    <div class="w-20 h-20 rounded-full bg-red-600 text-white flex items-center justify-center text-3xl mx-auto mb-4 shadow-lg">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <h3 class="font-['Poppins'] text-xl font-semibold text-center mb-1">Local Police</h3>
                    <p class="text-gray-500 text-center mb-6">Sanath Nagar Missing Persons</p>
                    <div class="flex justify-center">
                        <a href="tel:911" class="flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-full font-bold text-lg transition duration-150 shadow-lg shadow-red-300">
                            <i class="fas fa-phone"></i> Emergency (100)
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Report Sighting -->
    <section class="py-12 md:py-20 bg-white" id="report">
        <div class="container mx-auto px-4">
            <h2 class="font-['Poppins'] text-3xl font-bold text-center text-gray-800 mb-10">Report a Sighting</h2>
            <div class="max-w-3xl mx-auto bg-gray-50 rounded-2xl p-6 md:p-10 shadow-2xl border border-gray-200">
                <form class="space-y-6" id="sightingForm">
                    <div class="space-y-1">
                        <label for="location" class="block font-semibold text-gray-700"><i class="fas fa-map-marker-alt text-blue-600 mr-2"></i> Where did you see him?</label>
                        <input type="text" id="location" placeholder="Enter location or address" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    
                    <div class="space-y-1">
                        <label for="sightingTime" class="block font-semibold text-gray-700"><i class="fas fa-clock text-blue-600 mr-2"></i> When did you see him?</label>
                        <input type="datetime-local" id="sightingTime" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    
                    <div class="space-y-1">
                        <label for="description" class="block font-semibold text-gray-700"><i class="fas fa-sticky-note text-blue-600 mr-2"></i> Description of the sighting</label>
                        <textarea id="description" placeholder="Provide as many details as possible (what he was wearing, who he was with, direction of travel, etc.)" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 transition duration-150 min-h-[120px] resize-y"></textarea>
                    </div>
                    
                    <div class="space-y-1">
                        <label for="contact" class="block font-semibold text-gray-700"><i class="fas fa-envelope text-blue-600 mr-2"></i> Your contact (Phone or Email - Optional)</label>
                        <input type="text" id="contact" placeholder="Phone or email" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    
                    <button type="submit" class="w-full flex items-center justify-center gap-2 py-3 bg-red-600 hover:bg-red-700 text-white font-bold text-lg rounded-full transition duration-150 shadow-lg shadow-red-300/50">
                        <i class="fas fa-paper-plane"></i> Submit Sighting Report
                    </button>
                </form>
            </div>
        </div>
    </section>

    

    <!-- QR Code Section -->
    <section class="py-12 md:py-20 bg-white" id="share">
        <div class="container mx-auto px-4 text-center">
            <h2 class="font-['Poppins'] text-3xl font-bold text-center text-gray-800 mb-10">Scan to Share Information</h2>
            <div class="inline-block bg-gray-50 p-6 md:p-8 rounded-2xl shadow-2xl border border-gray-100">
                <div class="w-48 h-48 bg-gray-200 flex items-center justify-center rounded-lg mx-auto mb-4">
                    <i class="fas fa-qrcode text-6xl text-gray-500"></i>
                </div>
                <p class="text-lg font-medium text-gray-700">Scan this code to get the link</p>
                <p class="text-gray-500 text-sm">...and share the alert page with everyone.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 md:py-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center border-b border-gray-700 pb-6 mb-6">
                <div class="font-['Poppins'] text-2xl font-bold mb-4 md:mb-0">
                    <i class="fas fa-heart text-red-500"></i> FindMyFamily
                </div>
                <div class="flex flex-wrap justify-center gap-6 text-gray-300">
                    <a href="#info" class="hover:text-white transition duration-150">Information</a>
                    <a href="#contact" class="hover:text-white transition duration-150">Contact</a>
                    <a href="#report" class="hover:text-white transition duration-150">Report</a>
                    <a href="#share" class="hover:text-white transition duration-150">Share</a>
                </div>
            </div>
            <div class="text-center text-gray-400 text-sm">
                <p>&copy; 2025 FindMyFamily. All Rights Reserved.</p>
                <p class="mt-1">Developed by <span class="text-blue-400 font-semibold">ViNi Solutions</span> | Emergency Hotline: <a href="tel:+1234567890" class="text-yellow-500 hover:text-yellow-400 font-medium">+1 (234) 567-890</a></p>
            </div>
        </div>
    </footer>

    <!-- Floating Action Buttons -->
    <div class="fixed bottom-6 right-6 flex flex-col gap-4 z-[900]">
        <!-- Chat Button -->
        <button id="chatButton" class="floating-btn w-14 h-14 rounded-full bg-green-500 hover:bg-green-600 text-white text-2xl shadow-xl transition duration-150 flex items-center justify-center">
            <i class="fas fa-comment"></i>
        </button>
        <!-- Call Button -->
        <a href="tel:+918317581308" class="floating-btn w-14 h-14 rounded-full bg-blue-600 hover:bg-blue-700 text-white text-2xl shadow-xl transition duration-150 flex items-center justify-center">
            <i class="fas fa-phone"></i>
        </a>
    </div>

    <!-- Chatbot Container -->
    <div id="chatbot" class="fixed bottom-24 right-6 w-11/12 max-w-sm bg-white rounded-2xl shadow-2xl z-[950] hidden overflow-hidden transition-all duration-300 transform scale-95 opacity-0">
        <div class="bg-blue-600 text-white p-4 flex justify-between items-center rounded-t-2xl">
            <h3 class="font-['Poppins'] text-lg font-semibold">FindMyFamily Assistant</h3>
            <button id="closeChatbot" class="text-xl hover:text-gray-200 transition duration-150">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="chatMessages" class="h-80 p-4 overflow-y-auto space-y-3">
            <div class="message p-3 rounded-xl bg-gray-100 max-w-[85%] text-gray-800">
                Hello! I'm here to help. How can I assist you with information about the missing person?
            </div>
        </div>
        <div class="p-4 border-t border-gray-200 flex">
            <input type="text" id="userInput" placeholder="Type your message..." class="flex-grow p-2.5 border border-gray-300 rounded-full focus:ring-blue-500 focus:border-blue-500 transition duration-150 mr-2">
            <button id="sendMessage" class="w-10 h-10 bg-blue-600 hover:bg-blue-700 text-white rounded-full flex items-center justify-center transition duration-150">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
        // --- Modal Functions (Replaces alert/confirm) ---
        function openModal() {
            const modal = document.getElementById('successModal');
            const content = document.getElementById('modalContent');
            if (modal && content) {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.add('opacity-100');
                    content.classList.remove('scale-95', 'opacity-0');
                    content.classList.add('scale-100', 'opacity-100');
                }, 10);
            }
        }

        function closeModal() {
            const modal = document.getElementById('successModal');
            const content = document.getElementById('modalContent');
            if (modal && content) {
                content.classList.remove('scale-100', 'opacity-100');
                content.classList.add('scale-95', 'opacity-0');
                modal.classList.remove('opacity-100');
                
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300); // Match transition duration
            }
        }

        // --- Core App Logic ---
        document.addEventListener('DOMContentLoaded', function() {
            // 1. Initialize Swipers
            try {
                // Image Swiper
                new Swiper('.imageSwiper', {
                    loop: true,
                    slidesPerView: 1,
                    autoplay: { delay: 4000, disableOnInteraction: false },
                    effect: 'fade', // Fade effect looks smoother for photos
                    fadeEffect: { crossFade: true },
                    pagination: { el: '.swiper-pagination', clickable: true },
                    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
                    lazy: { loadPrevNext: true },
                });

                // Video Swiper
                new Swiper('.videoSwiper', {
                    loop: true,
                    slidesPerView: 1,
                    effect: 'slide',
                    pagination: { el: '.swiper-pagination', clickable: true },
                    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
                });

            } catch (error) {
                console.error('Error initializing Swipers. Check Swiper CDN.', error);
                // Fallback UI (simple message on media sections)
                document.querySelectorAll('.media-frame').forEach(frame => {
                    frame.innerHTML = '<div class="w-full h-full flex items-center justify-center text-white bg-red-800 rounded-lg p-4">Media Error: Please update your browser.</div>';
                });
            }

            // 2. Chatbot Functionality
            const chatButton = document.getElementById('chatButton');
            const closeChatbot = document.getElementById('closeChatbot');
            const chatbot = document.getElementById('chatbot');
            const sendMessage = document.getElementById('sendMessage');
            const userInput = document.getElementById('userInput');
            const chatMessages = document.getElementById('chatMessages');

            if (chatButton && chatbot) {
                chatButton.addEventListener('click', () => {
                    chatbot.classList.remove('hidden', 'scale-95', 'opacity-0');
                    chatbot.classList.add('scale-100', 'opacity-100');
                });

                closeChatbot.addEventListener('click', () => {
                    chatbot.classList.remove('scale-100', 'opacity-100');
                    chatbot.classList.add('scale-95', 'opacity-0');
                    setTimeout(() => {
                         chatbot.classList.add('hidden');
                    }, 300);
                });

                const sendUserMessage = () => {
                    const message = userInput.value.trim();
                    if (message === '') return;

                    // Add user message
                    const userMessage = document.createElement('div');
                    userMessage.className = 'message p-3 rounded-xl bg-blue-600 text-white max-w-[85%] ml-auto';
                    userMessage.textContent = message;
                    chatMessages.appendChild(userMessage);

                    userInput.value = ''; // Clear input
                    chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to bottom

                    // Simulate bot response
                    setTimeout(() => {
                        const botMessage = document.createElement('div');
                        botMessage.className = 'message p-3 rounded-xl bg-gray-100 max-w-[85%] text-gray-800';
                        
                        let botText = "I'm here to help with information about the missing person. You can ask about sightings, contact details, or how you can help.";

                        const lowerMsg = message.toLowerCase();
                        if (lowerMsg.includes('seen') || lowerMsg.includes('saw') || lowerMsg.includes('spot')) {
                            botText = "Thank you! Please use the 'Report Sighting' form above. It's the fastest way to get your valuable information to the family and authorities.";
                        } else if (lowerMsg.includes('contact') || lowerMsg.includes('call')) {
                            botText = "You can find direct contact details (WhatsApp and Phone) for the family and police in the 'Urgent Contacts' section above.";
                        } else if (lowerMsg.includes('where') || lowerMsg.includes('location')) {
                            botText = "Johnathan was last seen in Central Park, New York on October 15, 2023. More details are in the Information section.";
                        } else if (lowerMsg.includes('help') || lowerMsg.includes('what can i do')) {
                            botText = "You can help by: 1) Sharing this page widely (use the QR code), 2) Reporting any sightings via the form, and 3) Reviewing the photo gallery.";
                        } 
                        
                        botMessage.textContent = botText;
                        chatMessages.appendChild(botMessage);
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }, 1000);
                };

                sendMessage.addEventListener('click', sendUserMessage);
                userInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') { sendUserMessage(); }
                });
            }

            // 3. Form Submission (Replaced alert() with modal)
            const sightingForm = document.getElementById('sightingForm');
            if (sightingForm) {
                sightingForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const location = document.getElementById('location').value;
                    const time = document.getElementById('sightingTime').value;
                    const description = document.getElementById('description').value;
                    const contact = document.getElementById('contact').value;
                    
                    // Create WhatsApp message
                    const message = `Sighting Report:%0A%0AðŸ“ Location: ${location}%0AðŸ•’ Time: ${time}%0AðŸ“ Details: ${description}%0AðŸ“ž Contact: ${contact || 'Not provided'}%0A%0ARegarding: Julius Anthony`;
                    const whatsappUrl = `https://wa.me/+918317581308?text=${message}`;
                    
                    // Open modal instead of alert
                    openModal();

                    // Delay redirection slightly after the modal opens for a better UX
                    setTimeout(() => {
                        window.open(whatsappUrl, '_blank');
                    }, 500); 
                    
                    this.reset();
                });
            }

            // 4. Upload Functionality (Replaced alert() with console log and message update)
            const uploadBtn = document.getElementById('uploadBtn');
            if (uploadBtn) {
                uploadBtn.addEventListener('click', function() {
                    console.log('File selection initiated. In a live application, a file browser would open here.');
                    document.getElementById('uploadProgressText').innerHTML = '**Thank you!** In a full implementation, files would now be uploading. Please contact the family directly to share media for now.';
                });
            }
            
            // 5. Smooth Scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // 6. Image Error Handling
            document.querySelectorAll('img').forEach(img => {
                img.addEventListener('error', function() {
                    // Replace broken image with a generic placeholder text image
                    this.src = 'https://placehold.co/800x800/64748b/ffffff?text=Photo+Unavailable';
                    this.alt = 'Image not available';
                    this.classList.add('object-contain', 'p-4'); // Adjust for text placeholder
                });
            });

        });
    </script>
</body>
</html>
